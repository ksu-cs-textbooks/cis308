<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.0.3+tip">




	
	
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

    <meta name="description" content="CIS 308: C Language Lab">
    <meta name="author" content="Julie Thornton">
    <title>Arrays of Function Pointers :: CIS 308 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis308/7-chapter/7_3-arraysfnptrs/" rel="canonical" type="text/html" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/7-chapter/7_3-arraysfnptrs/index.xml" rel="alternate" type="application/rss+xml" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/_print/7-chapter/7_3-arraysfnptrs/" rel="alternate" type="text/html" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/7-chapter/7_3-arraysfnptrs/embed.html" rel="alternate" type="text/html" title="CIS 308 Textbook">
    
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/fontawesome-all.min.css?1659549501" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/featherlight.min.css?1659549501" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/auto-complete.css?1659549501" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <noscript>
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/fontawesome-all.min.css?1659549501" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/featherlight.min.css?1659549501" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/auto-complete.css?1659549501" rel="stylesheet">
    </noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/perfect-scrollbar.min.css?1659549501" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/nucleus.css?1659549501" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/fonts.css?1659549501" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/theme.css?1659549501" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/theme-light-theme.css?1659549501" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/ie.css?1659549501" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/variant.css?1659549501" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/print.css?1659549501" rel="stylesheet" media="print">
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/variant.js?1659549501"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="https://ksu-cs-textbooks.github.io/cis308/index.json";
      var root_url="https://ksu-cs-textbooks.github.io/cis308/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis308/';
      variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/custom.css?1659549501" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/jquery.min.js?1659549501" defer></script>

  </head>
  <body class="mobile-support disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis308/7-chapter/7_3-arraysfnptrs/">
    
    <div id="tele" class="tele mirror">
    
    <div id="body" class="default-animation">
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
    
    
<h1>Arrays of Function Pointers</h1>
    
    
<p>We can declare arrays of function pointers using the same syntax we use to create arrays of any other type. As we saw in the previous section, it is often easier to first rename our function pointer using <code>typedef</code>, and then to use that new type when declaring an array.</p>
<p>Consider our operations functions and newly created <code>function</code> type from the previous section:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//&#39;function&#39; is the name of a new function pointer type
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//describing a function that returns an int and takes two int arguments
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">typedef</span> <span style="color:#a6e22e">int</span> (<span style="color:#f92672">*</span>function) (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">plus</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">minus</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">-</span> b;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">times</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> b;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">divide</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">/</span> b;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Since each operation function is the same type, we can create an array of these four function pointers. We can then ask the user to enter an array index corresponding to the desired operation, and access the appropriate function pointer to execute the operation:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> choice;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//declares an array of four function pointers
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    function allOps[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">=</span> {plus, minus, times, divide};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    printf(<span style="color:#e6db74">&#34;Enter 0 for plus, 1 for minus, 2 for times, and 3 for divide: &#34;</span>);
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>choice);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    printf(<span style="color:#e6db74">&#34;Result: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, (allOps[choice])(num1, num2));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Here, <code>allOps[choice]</code> accesses a particular function pointer by array index, and then calls that function (passing <code>num1</code> and <code>num2</code>). For example, if the user entered <code>2</code>, then <code>allOps[choice]</code> would access the <code>times</code> function. The code would print:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Result: 12
</span></span></code></pre></div><p>Since <code>times(num1, num2)</code> would return 12.</p>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    
    
    </div>
    
  </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/clipboard.min.js?1659549501" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/perfect-scrollbar.min.js?1659549501" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/featherlight.min.js?1659549501" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/theme.js?1659549501" defer></script>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/tele-scroll.js?1659549501 defer"></script>
    
  </body>
</html>
