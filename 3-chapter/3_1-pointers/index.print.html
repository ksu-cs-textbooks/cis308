<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”. Learning pointers in C can also help you understand what’s going on in Java/C#/etc. programs."><meta name=author content="Julie Thornton"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis308/images/hero.png"><meta name=twitter:title content="Pointers :: CIS 308 Textbook"><meta name=twitter:description content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”. Learning pointers in C can also help you understand what’s going on in Java/C#/etc. programs."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis308/3-chapter/3_1-pointers/index.html"><meta property="og:site_name" content="CIS 308 Textbook"><meta property="og:title" content="Pointers :: CIS 308 Textbook"><meta property="og:description" content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”. Learning pointers in C can also help you understand what’s going on in Java/C#/etc. programs."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Pointers and Dynamic Memory"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-09-14T10:32:33-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis308/images/hero.png"><meta itemprop=name content="Pointers :: CIS 308 Textbook"><meta itemprop=description content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”. Learning pointers in C can also help you understand what’s going on in Java/C#/etc. programs."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-09-14T10:32:33-05:00"><meta itemprop=wordCount content="615"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis308/images/hero.png"><title>Pointers :: CIS 308 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis308/3-chapter/3_1-pointers/index.html rel=canonical type=text/html title="Pointers :: CIS 308 Textbook"><link href=/cis308/3-chapter/3_1-pointers/index.xml rel=alternate type=application/rss+xml title="Pointers :: CIS 308 Textbook"><link href=/cis308/3-chapter/3_1-pointers/tele.html rel=alternate type=text/html title="Pointers :: CIS 308 Textbook"><link href=/cis308/3-chapter/3_1-pointers/embed.html rel=alternate type=text/html title="Pointers :: CIS 308 Textbook"><link href=/cis308/css/auto-complete/auto-complete.min.css?1755623839 rel=stylesheet><script src=/cis308/js/auto-complete/auto-complete.min.js?1755623839 defer></script><script src=/cis308/js/search-lunr.min.js?1755623839 defer></script><script src=/cis308/js/search.min.js?1755623839 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis308/searchindex.en.js?1755623839"</script><script src=/cis308/js/lunr/lunr.min.js?1755623839 defer></script><script src=/cis308/js/lunr/lunr.stemmer.support.min.js?1755623839 defer></script><script src=/cis308/js/lunr/lunr.multi.min.js?1755623839 defer></script><script src=/cis308/js/lunr/lunr.en.min.js?1755623839 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis308/fonts/fontawesome/css/fontawesome-all.min.css?1755623839 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/fonts/fontawesome/css/fontawesome-all.min.css?1755623839 rel=stylesheet></noscript><link href=/cis308/css/perfect-scrollbar/perfect-scrollbar.min.css?1755623839 rel=stylesheet><link href=/cis308/css/theme.min.css?1755623839 rel=stylesheet><link href=/cis308/css/format-print.min.css?1755623839 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/3-chapter/3_1-pointers/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis308",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis308/css/custom.css?1755623839 rel=stylesheet></head><body class="mobile-support embed print" data-url=/cis308/3-chapter/3_1-pointers/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 3-chapter" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=pointers>Pointers</h1><p>Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.</p><p>Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers &ldquo;behind the scenes&rdquo;. Learning pointers in C can also help you understand what&rsquo;s going on in Java/C#/etc. programs.</p><h2 id=declaring>Declaring</h2><p>The type of a pointer variable is:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>type*</span></span></code></pre></div><p>where <em>type</em> is the type of data this pointer will reference. For example:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> intPtr;</span></span></code></pre></div><p><em>intPtr</em> can hold the address of an int variable. Another:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span><span style=color:#f92672>*</span> charPtr;</span></span></code></pre></div><p><em>charPtr</em> can hold the address of a char variable.</p><p>When you are declaring pointers, the * can go any where between the type and the variable name. For example, all of the following are acceptable:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span><span style=color:#f92672>*</span> intPtr;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span> intPtr;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span><span style=color:#f92672>*</span>intPtr;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span>intPtr;</span></span></code></pre></div><p>Variables in C are not automatically initialized – and this includes pointers. After declaring a pointer, it holds some garbage value that was left in that spot in memory.</p><h2 id=-operator-address-of>& Operator (Address-Of)</h2><p>The & operator returns the memory address of a variable. For example, if we have:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;</span></span></code></pre></div><p>And the <em>x</em> variable is stored at spot 1714 in memory (every variable is given a certain spot in memory, and these spots have an associated number), then if we do:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#f92672>&amp;</span>x</span></span></code></pre></div><p>this will give us the 1714 spot.</p><p>The address-of operator isn&rsquo;t very useful unless we&rsquo;re using pointers. Since pointers are supposed to hold memory addresses, we can initialize them to be the address of some other variable.</p><p>So, suppose we have the following variable declarations:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>; <span style=color:#75715e>//x is given spot 1714 in memory
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span>xPtr;</span></span></code></pre></div><p>We can make the <em>xPtr</em> variable reference <em>x</em>:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>xPtr <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>x; <span style=color:#75715e>//Now xPtr &#34;points to&#34; x – it holds address 1714
</span></span></span></code></pre></div><p>Notice that when we DECLARE a pointer, we include the *. However, when we INITIALIZE the pointer, we don&rsquo;t include the *.</p><h2 id=-operator-dereferencing>* Operator (Dereferencing)</h2><p>The * operator is an operator specifically for pointer variables. It returns the value of what is being pointed at.</p><p>For example, if we have:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>; <span style=color:#75715e>//x is given spot 1714 in memory
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span>xPtr;
</span></span><span style=display:flex><span>xPtr <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>x;</span></span></code></pre></div><p>Then saying *<em>xPtr</em> gets us the value pointed to by <em>xPtr</em>. <em>xPtr</em> holds memory address 1714, so if I say *<em>xPtr</em>, then I get the value stored in spot 1714 – which is a 4. I can also use this operator to modify the value at that spot in memory. For example:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#f92672>*</span>xPtr <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>;</span></span></code></pre></div><p>Now the value at spot 1714 is a 6. The <em>x</em> variable is stored in spot 1714, so now <em>x</em> has the value 6.</p><h2 id=example>Example</h2><p>The following example illustrates how pointers work:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> i;      <span style=color:#75715e>//i gets a memory location, say 3245, and has some random value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span>ip;    <span style=color:#75715e>//ip has some random address
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>i <span style=color:#f92672>=</span> <span style=color:#ae81ff>36</span>;     <span style=color:#75715e>//i has the value 36
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>*</span>ip <span style=color:#f92672>=</span> <span style=color:#ae81ff>72</span>;   <span style=color:#75715e>//Most likely, causes a segmentation fault
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>ip <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>i;    <span style=color:#75715e>//ip references memory address 3245
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>*</span>ip <span style=color:#f92672>=</span> <span style=color:#ae81ff>72</span>;   <span style=color:#75715e>//Memory address 3245 has value 72 (so i = 72)
</span></span></span></code></pre></div><p>The reason <code>*ip = 72</code> will cause problems is that <code>*ip</code> currently holds some random memory address, since it has not been initialized. When we say <code>*ip</code>, we&rsquo;re trying to access the memory at that random spot. This is most likely not the program&rsquo;s memory, so we will get a segmentation fault when we try to change it. (The other possibility is that we could end up overwriting one of the other program variables.)</p><footer class=footline></footer></article></div></main></div><script src=/cis308/js/clipboard/clipboard.min.js?1755623839 defer></script><script src=/cis308/js/perfect-scrollbar/perfect-scrollbar.min.js?1755623839 defer></script><script src=/cis308/js/theme.min.js?1755623839 defer></script><script src=/cis308/js/embed-iframe.min.js?1755623839 defer></script></body></html>