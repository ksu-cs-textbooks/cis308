<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”."><meta name=author content="Julie Thornton"><meta name=twitter:card content="summary"><meta name=twitter:title content="Pointers :: CIS 308 Textbook"><meta name=twitter:description content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis308/3-chapter/3_1-pointers/"><meta property="og:site_name" content="CIS 308 Textbook"><meta property="og:title" content="Pointers :: CIS 308 Textbook"><meta property="og:description" content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Pointers and Dynamic Memory"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-09-14T10:32:33-05:00"><meta itemprop=name content="Pointers :: CIS 308 Textbook"><meta itemprop=description content="Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.
Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers “behind the scenes”."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-09-14T10:32:33-05:00"><meta itemprop=wordCount content="606"><title>Pointers :: CIS 308 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis308/3-chapter/3_1-pointers/ rel=canonical type=text/html title="Pointers :: CIS 308 Textbook"><link href=/cis308/3-chapter/3_1-pointers/index.xml rel=alternate type=application/rss+xml title="Pointers :: CIS 308 Textbook"><link href=/cis308/3-chapter/3_1-pointers/index.print.html rel=alternate type=text/html title="Pointers :: CIS 308 Textbook"><link href=/cis308/3-chapter/3_1-pointers/embed.html rel=alternate type=text/html title="Pointers :: CIS 308 Textbook"><link href=/cis308/css/fontawesome-all.min.css?1755548969 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/css/fontawesome-all.min.css?1755548969 rel=stylesheet></noscript><link href=/cis308/css/nucleus.css?1755548969 rel=stylesheet><link href=/cis308/css/auto-complete.css?1755548969 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/css/auto-complete.css?1755548969 rel=stylesheet></noscript><link href=/cis308/css/perfect-scrollbar.min.css?1755548969 rel=stylesheet><link href=/cis308/css/fonts.css?1755548969 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/css/fonts.css?1755548969 rel=stylesheet></noscript><link href=/cis308/css/theme.css?1755548969 rel=stylesheet><link href=/cis308/css/theme-auto.css?1755548969 rel=stylesheet id=R-variant-style><link href=/cis308/css/chroma-auto.css?1755548969 rel=stylesheet id=R-variant-chroma-style><link href=/cis308/css/variant.css?1755548969 rel=stylesheet><link href=/cis308/css/print.css?1755548969 rel=stylesheet media=print><script src=/cis308/js/variant.js?1755548969></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis308",window.index_js_url="/cis308/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis308/css/custom.css?1755548969 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis308/3-chapter/3_1-pointers/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=pointers>Pointers</h1><p>Pointers in C are variables that store the memory address of some other variable or data. They have an associated type of what kind of value they reference.</p><p>Pointers are one of the most difficult concepts in the C language. However, mastering pointers allows you do have a deeper understanding of what actually happens when your program runs. Higher-level languages do not explicitly use pointers, but they do use pointers &ldquo;behind the scenes&rdquo;. Learning pointers in C can also help you understand what&rsquo;s going on in Java/C#/etc. programs.</p><h2 id=declaring>Declaring</h2><p>The type of a pointer variable is:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>type*</span></span></code></pre></div><p>where <em>type</em> is the type of data this pointer will reference. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span> <span class=n>intPtr</span><span class=p>;</span></span></span></code></pre></div><p><em>intPtr</em> can hold the address of an int variable. Another:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>char</span><span class=o>*</span> <span class=n>charPtr</span><span class=p>;</span></span></span></code></pre></div><p><em>charPtr</em> can hold the address of a char variable.</p><p>When you are declaring pointers, the * can go any where between the type and the variable name. For example, all of the following are acceptable:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span> <span class=n>intPtr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=o>*</span> <span class=n>intPtr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span><span class=n>intPtr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=o>*</span><span class=n>intPtr</span><span class=p>;</span></span></span></code></pre></div><p>Variables in C are not automatically initialized – and this includes pointers. After declaring a pointer, it holds some garbage value that was left in that spot in memory.</p><h2 id=-operator-address-of>& Operator (Address-Of)</h2><p>The & operator returns the memory address of a variable. For example, if we have:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span></span></span></code></pre></div><p>And the <em>x</em> variable is stored at spot 1714 in memory (every variable is given a certain spot in memory, and these spots have an associated number), then if we do:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=o>&amp;</span><span class=n>x</span></span></span></code></pre></div><p>this will give us the 1714 spot.</p><p>The address-of operator isn&rsquo;t very useful unless we&rsquo;re using pointers. Since pointers are supposed to hold memory addresses, we can initialize them to be the address of some other variable.</p><p>So, suppose we have the following variable declarations:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span> <span class=c1>//x is given spot 1714 in memory
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=o>*</span><span class=n>xPtr</span><span class=p>;</span></span></span></code></pre></div><p>We can make the <em>xPtr</em> variable reference <em>x</em>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>xPtr</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>x</span><span class=p>;</span> <span class=c1>//Now xPtr &#34;points to&#34; x – it holds address 1714
</span></span></span></code></pre></div><p>Notice that when we DECLARE a pointer, we include the *. However, when we INITIALIZE the pointer, we don&rsquo;t include the *.</p><h2 id=-operator-dereferencing>* Operator (Dereferencing)</h2><p>The * operator is an operator specifically for pointer variables. It returns the value of what is being pointed at.</p><p>For example, if we have:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span> <span class=c1>//x is given spot 1714 in memory
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=o>*</span><span class=n>xPtr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>xPtr</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>x</span><span class=p>;</span></span></span></code></pre></div><p>Then saying *<em>xPtr</em> gets us the value pointed to by <em>xPtr</em>. <em>xPtr</em> holds memory address 1714, so if I say *<em>xPtr</em>, then I get the value stored in spot 1714 – which is a 4. I can also use this operator to modify the value at that spot in memory. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=o>*</span><span class=n>xPtr</span> <span class=o>=</span> <span class=mi>6</span><span class=p>;</span></span></span></code></pre></div><p>Now the value at spot 1714 is a 6. The <em>x</em> variable is stored in spot 1714, so now <em>x</em> has the value 6.</p><h2 id=example>Example</h2><p>The following example illustrates how pointers work:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>i</span><span class=p>;</span>      <span class=c1>//i gets a memory location, say 3245, and has some random value
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=o>*</span><span class=n>ip</span><span class=p>;</span>    <span class=c1>//ip has some random address
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>i</span> <span class=o>=</span> <span class=mi>36</span><span class=p>;</span>     <span class=c1>//i has the value 36
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>ip</span> <span class=o>=</span> <span class=mi>72</span><span class=p>;</span>   <span class=c1>//Most likely, causes a segmentation fault
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>ip</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>i</span><span class=p>;</span>    <span class=c1>//ip references memory address 3245
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>ip</span> <span class=o>=</span> <span class=mi>72</span><span class=p>;</span>   <span class=c1>//Memory address 3245 has value 72 (so i = 72)
</span></span></span></code></pre></div><p>The reason <code>*ip = 72</code> will cause problems is that <code>*ip</code> currently holds some random memory address, since it has not been initialized. When we say <code>*ip</code>, we&rsquo;re trying to access the memory at that random spot. This is most likely not the program&rsquo;s memory, so we will get a segmentation fault when we try to change it. (The other possibility is that we could end up overwriting one of the other program variables.)</p><footer class=footline></footer></article></div></main></div></div><script src=/cis308/js/clipboard.min.js?1755548969 defer></script><script src=/cis308/js/perfect-scrollbar.min.js?1755548969 defer></script><script src=/cis308/js/theme.js?1755548969 defer></script><script src=/cis308/js/tele-scroll.js?1755548969 defer></script></body></html>