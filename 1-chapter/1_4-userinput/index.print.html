<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta name=author content="Julie Thornton"><meta name=twitter:card content="summary"><meta name=twitter:title content="User Input :: CIS 308 Textbook"><meta name=twitter:description content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis308/1-chapter/1_4-userinput/"><meta property="og:site_name" content="CIS 308 Textbook"><meta property="og:title" content="User Input :: CIS 308 Textbook"><meta property="og:description" content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="C Basics"><meta property="article:modified_time" content="2022-08-22T12:00:25-05:00"><meta itemprop=name content="User Input :: CIS 308 Textbook"><meta itemprop=description content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta itemprop=dateModified content="2022-08-22T12:00:25-05:00"><meta itemprop=wordCount content="779"><title>User Input :: CIS 308 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis308/1-chapter/1_4-userinput/ rel=canonical type=text/html title="User Input :: CIS 308 Textbook"><link href=/cis308/1-chapter/1_4-userinput/index.xml rel=alternate type=application/rss+xml title="User Input :: CIS 308 Textbook"><link href=/cis308/1-chapter/1_4-userinput/tele.html rel=alternate type=text/html title="User Input :: CIS 308 Textbook"><link href=/cis308/1-chapter/1_4-userinput/embed.html rel=alternate type=text/html title="User Input :: CIS 308 Textbook"><link href=/cis308/css/fontawesome-all.min.css?1737135072 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/css/fontawesome-all.min.css?1737135072 rel=stylesheet></noscript><link href=/cis308/css/nucleus.css?1737135072 rel=stylesheet><link href=/cis308/css/auto-complete.css?1737135072 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/css/auto-complete.css?1737135072 rel=stylesheet></noscript><link href=/cis308/css/perfect-scrollbar.min.css?1737135072 rel=stylesheet><link href=/cis308/css/fonts.css?1737135072 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/css/fonts.css?1737135072 rel=stylesheet></noscript><link href=/cis308/css/theme.css?1737135072 rel=stylesheet><link href=/cis308/css/theme-auto.css?1737135072 rel=stylesheet id=R-variant-style><link href=/cis308/css/chroma-auto.css?1737135072 rel=stylesheet id=R-variant-chroma-style><link href=/cis308/css/variant.css?1737135072 rel=stylesheet><link href=/cis308/css/print.css?1737135072 rel=stylesheet media=print><link href=/cis308/css/format-print.css?1737135072 rel=stylesheet><script src=/cis308/js/variant.js?1737135072></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis308",window.index_js_url="/cis308/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis308/css/custom.css?1737135072 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis308/1-chapter/1_4-userinput/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis308/1-chapter/><span itemprop=name>C Basics</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>User Input</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis308/1-chapter/1_3-printing/ title="Printing (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis308/1-chapter/1_5-selectionstructures/ title="Selection Structures (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=user-input>User Input</h1><p>User input in C is, in short, a pain. There are three major input functions:
<code>getchar()</code>, <code>scanf(...)</code>, and <code>fgets(...)</code>. To use any of these functions, you must include the <code>stdio.h</code> library.</p><h2 id=getchar><code>getchar()</code></h2><p>The <code>getchar()</code> function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant <code>EOF</code>.</p><p>Here&rsquo;s an example that reads a student&rsquo;s letter grade and then prints it back to the console.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>char</span> <span class=n>grade</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nf>printf</span><span class=p>(</span><span class=s>&#34;Enter your grade: &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>grade</span> <span class=o>=</span> <span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nf>printf</span><span class=p>(</span><span class=s>&#34;Your grade is %c</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>grade</span><span class=p>);</span></span></span></code></pre></div><p>Note that if you are using <code>getchar</code> to read characters one at a time from standard input, you will NEVEr reach <code>EOF</code> &ndash; instead, the program will wait for you to type new input. If you have piped the contents of a file to be the input stream for the program, though, <code>getchar</code> will return <code>EOF</code> when you have reached the end of that file. If you want to use <code>getchar</code> to read all characters from standard input, a better check is to read until you reach <code>\n</code> (which would signify the user pressing Enter after supplying user input).</p><h2 id=scanf><code>scanf(...)</code></h2><p>The <code>scanf(...)</code> function allows us to read formatted input, like ints and
doubles.</p><p>The first argument to <code>scanf</code> is the format string, which specifies the kind of data you expect to read. To specify the data types you expect, use the same control string characters you used for printf &ndash; %d, %f, %lf, %c, and %s. If you want to read an int, the first argument to scanf should be &ldquo;%d&rdquo;. If you want to read two ints, put &ldquo;%d %d&rdquo;.</p><p>The next arguments to <code>scanf</code> are the corresponding variables that you want to store the input in. We won&rsquo;t go into details now, but <code>scanf</code> needs the memory address of these variables so it can modify their value. To get the address of a variable, put a & in front of the variable name.</p><p>Here&rsquo;s a simple example that prompts the user for an integer, and then reads in the value:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>num</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nf>printf</span><span class=p>(</span><span class=s>&#34;Enter a number: &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>num</span><span class=p>);</span> 
</span></span><span class=line><span class=cl><span class=c1>//%d: we&#39;re reading in an integer
</span></span></span><span class=line><span class=cl><span class=c1>//&amp;num: we&#39;re storing that integer in the num variable
</span></span></span></code></pre></div><p>Here&rsquo;s an example that reads in an integer and a double:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>num1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>double</span> <span class=n>num2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nf>printf</span><span class=p>(</span><span class=s>&#34;Enter an int and a double: &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d %lf&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>num1</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>num2</span><span class=p>);</span></span></span></code></pre></div><p>The first number typed will get stored in <code>num1</code>, and the second number will get stored in <code>num2</code>. Our format string specified that these numbers should be separated by a space, but they can be separated by any amount of whitespace (multiple spaces, tabs, or newlines).</p><p>Suppose that the user is entering a fraction, like 9/5. Here&rsquo;s how we could read in that information:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>numerator</span><span class=p>,</span> <span class=n>denominator</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nf>printf</span><span class=p>(</span><span class=s>&#34;Enter a fraction (like 9/5): &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d/%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>numerator</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>denominator</span><span class=p>);</span></span></span></code></pre></div><p>By putting the &ldquo;/&rdquo; in the format string, we specify that we expect the input to have a / there, but we don&rsquo;t wish to store it in a variable.</p><p><code>scanf</code> returns the number of variables that were correctly read in.</p><p>Here is an (incomplete) list of subtleties when using <code>scanf</code>:</p><ul><li>In most cases, <code>scanf</code> skips whitespace. However, if you type a space (or tab or newline) where <code>scanf</code> expects a character,
it will read the whitespace into your <code>char</code> variable.</li><li>If you use <code>scanf</code> to read a single character, then the user will type an input character and then hit return. <code>scanf</code> will read the input character, but
the newline will remain in the input buffer. This can cause problems if you
call <code>scanf</code> a second time – the newline character will then be read, and not
any new input. To fix this problem, add a call to <code>getchar()</code> after reading
a char to read the extra newline character.</li><li>If <code>scanf</code> reads input that it does not expect (for example, if it sees a
character but is supposed to be reading an int), it will not discard the bad
input. The bad input will still be in the input buffer if you
call <code>scanf</code> again. To fix this, call <code>getchar()</code> until you reach <code>\n</code>. This
will clear the input buffer.</li></ul><p>In the next chapter, we will see that <code>scanf</code> can be very dangerous to use when reading strings from user input. In short, if the user enters a string that is longer than expected, <code>scanf</code> can accidentally overwrite other parts of memory. This can even be exploited using a <em>buffer overflow attack</em> by tricking <code>scanf</code> into reading in program instructions.</p><p>When we reach the section on strings (2.2), we will learn about the <code>fgets</code> function, which is a safer option for reading strings from both standard input and files.</p><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Julie Thornton
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis308/commit/5ee1a5f2a6df109b76146daeba8e75797efeed89>Aug 22, 2022</a></p></div></div><script src=/cis308/js/clipboard.min.js?1737135072 defer></script><script src=/cis308/js/perfect-scrollbar.min.js?1737135072 defer></script><script src=/cis308/js/theme.js?1737135072 defer></script></body></html>