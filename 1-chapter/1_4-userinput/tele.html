<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta name=author content="Julie Thornton"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis308/images/hero.png"><meta name=twitter:title content="User Input :: CIS 308 Textbook"><meta name=twitter:description content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis308/1-chapter/1_4-userinput/index.html"><meta property="og:site_name" content="CIS 308 Textbook"><meta property="og:title" content="User Input :: CIS 308 Textbook"><meta property="og:description" content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="C Basics"><meta property="article:modified_time" content="2022-08-22T12:00:25-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis308/images/hero.png"><meta itemprop=name content="User Input :: CIS 308 Textbook"><meta itemprop=description content="User input in C is, in short, a pain. There are three major input functions: getchar(), scanf(...), and fgets(...). To use any of these functions, you must include the stdio.h library.
getchar() The getchar() function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant EOF.
Here’s an example that reads a student’s letter grade and then prints it back to the console."><meta itemprop=dateModified content="2022-08-22T12:00:25-05:00"><meta itemprop=wordCount content="782"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis308/images/hero.png"><title>User Input :: CIS 308 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis308/1-chapter/1_4-userinput/index.html rel=canonical type=text/html title="User Input :: CIS 308 Textbook"><link href=/cis308/1-chapter/1_4-userinput/index.xml rel=alternate type=application/rss+xml title="User Input :: CIS 308 Textbook"><link href=/cis308/1-chapter/1_4-userinput/index.print.html rel=alternate type=text/html title="User Input :: CIS 308 Textbook"><link href=/cis308/1-chapter/1_4-userinput/embed.html rel=alternate type=text/html title="User Input :: CIS 308 Textbook"><link href=/cis308/css/auto-complete/auto-complete.min.css?1755623839 rel=stylesheet><script src=/cis308/js/auto-complete/auto-complete.min.js?1755623839 defer></script><script src=/cis308/js/search-lunr.min.js?1755623839 defer></script><script src=/cis308/js/search.min.js?1755623839 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis308/searchindex.en.js?1755623839"</script><script src=/cis308/js/lunr/lunr.min.js?1755623839 defer></script><script src=/cis308/js/lunr/lunr.stemmer.support.min.js?1755623839 defer></script><script src=/cis308/js/lunr/lunr.multi.min.js?1755623839 defer></script><script src=/cis308/js/lunr/lunr.en.min.js?1755623839 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis308/fonts/fontawesome/css/fontawesome-all.min.css?1755623839 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis308/fonts/fontawesome/css/fontawesome-all.min.css?1755623839 rel=stylesheet></noscript><link href=/cis308/css/perfect-scrollbar/perfect-scrollbar.min.css?1755623839 rel=stylesheet><link href=/cis308/css/theme.min.css?1755623839 rel=stylesheet><link href=/cis308/css/format-html.min.css?1755623839 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/1-chapter/1_4-userinput/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis308",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis308/css/custom.css?1755623839 rel=stylesheet></head><body class="mobile-support html" data-url=/cis308/1-chapter/1_4-userinput/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 1-chapter" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=user-input>User Input</h1><p>User input in C is, in short, a pain. There are three major input functions:
<code>getchar()</code>, <code>scanf(...)</code>, and <code>fgets(...)</code>. To use any of these functions, you must include the <code>stdio.h</code> library.</p><h2 id=getchar><code>getchar()</code></h2><p>The <code>getchar()</code> function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant <code>EOF</code>.</p><p>Here&rsquo;s an example that reads a student&rsquo;s letter grade and then prints it back to the console.</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span> grade;
</span></span><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Enter your grade: &#34;</span>);
</span></span><span style=display:flex><span>grade <span style=color:#f92672>=</span> <span style=color:#a6e22e>getchar</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Your grade is %c</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, grade);</span></span></code></pre></div><p>Note that if you are using <code>getchar</code> to read characters one at a time from standard input, you will NEVEr reach <code>EOF</code> &ndash; instead, the program will wait for you to type new input. If you have piped the contents of a file to be the input stream for the program, though, <code>getchar</code> will return <code>EOF</code> when you have reached the end of that file. If you want to use <code>getchar</code> to read all characters from standard input, a better check is to read until you reach <code>\n</code> (which would signify the user pressing Enter after supplying user input).</p><h2 id=scanf><code>scanf(...)</code></h2><p>The <code>scanf(...)</code> function allows us to read formatted input, like ints and
doubles.</p><p>The first argument to <code>scanf</code> is the format string, which specifies the kind of data you expect to read. To specify the data types you expect, use the same control string characters you used for printf &ndash; %d, %f, %lf, %c, and %s. If you want to read an int, the first argument to scanf should be &ldquo;%d&rdquo;. If you want to read two ints, put &ldquo;%d %d&rdquo;.</p><p>The next arguments to <code>scanf</code> are the corresponding variables that you want to store the input in. We won&rsquo;t go into details now, but <code>scanf</code> needs the memory address of these variables so it can modify their value. To get the address of a variable, put a & in front of the variable name.</p><p>Here&rsquo;s a simple example that prompts the user for an integer, and then reads in the value:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> num;
</span></span><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Enter a number: &#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>scanf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>num); 
</span></span><span style=display:flex><span><span style=color:#75715e>//%d: we&#39;re reading in an integer
</span></span></span><span style=display:flex><span><span style=color:#75715e>//&amp;num: we&#39;re storing that integer in the num variable
</span></span></span></code></pre></div><p>Here&rsquo;s an example that reads in an integer and a double:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> num1;
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> num2;
</span></span><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Enter an int and a double: &#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>scanf</span>(<span style=color:#e6db74>&#34;%d %lf&#34;</span>, <span style=color:#f92672>&amp;</span>num1, <span style=color:#f92672>&amp;</span>num2);</span></span></code></pre></div><p>The first number typed will get stored in <code>num1</code>, and the second number will get stored in <code>num2</code>. Our format string specified that these numbers should be separated by a space, but they can be separated by any amount of whitespace (multiple spaces, tabs, or newlines).</p><p>Suppose that the user is entering a fraction, like 9/5. Here&rsquo;s how we could read in that information:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> numerator, denominator;
</span></span><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Enter a fraction (like 9/5): &#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>scanf</span>(<span style=color:#e6db74>&#34;%d/%d&#34;</span>, <span style=color:#f92672>&amp;</span>numerator, <span style=color:#f92672>&amp;</span>denominator);</span></span></code></pre></div><p>By putting the &ldquo;/&rdquo; in the format string, we specify that we expect the input to have a / there, but we don&rsquo;t wish to store it in a variable.</p><p><code>scanf</code> returns the number of variables that were correctly read in.</p><p>Here is an (incomplete) list of subtleties when using <code>scanf</code>:</p><ul><li>In most cases, <code>scanf</code> skips whitespace. However, if you type a space (or tab or newline) where <code>scanf</code> expects a character,
it will read the whitespace into your <code>char</code> variable.</li><li>If you use <code>scanf</code> to read a single character, then the user will type an input character and then hit return. <code>scanf</code> will read the input character, but
the newline will remain in the input buffer. This can cause problems if you
call <code>scanf</code> a second time – the newline character will then be read, and not
any new input. To fix this problem, add a call to <code>getchar()</code> after reading
a char to read the extra newline character.</li><li>If <code>scanf</code> reads input that it does not expect (for example, if it sees a
character but is supposed to be reading an int), it will not discard the bad
input. The bad input will still be in the input buffer if you
call <code>scanf</code> again. To fix this, call <code>getchar()</code> until you reach <code>\n</code>. This
will clear the input buffer.</li></ul><p>In the next chapter, we will see that <code>scanf</code> can be very dangerous to use when reading strings from user input. In short, if the user enters a string that is longer than expected, <code>scanf</code> can accidentally overwrite other parts of memory. This can even be exploited using a <em>buffer overflow attack</em> by tricking <code>scanf</code> into reading in program instructions.</p><p>When we reach the section on strings (2.2), we will learn about the <code>fgets</code> function, which is a safer option for reading strings from both standard input and files.</p><footer class=footline></footer></article></div></main></div><script src=/cis308/js/clipboard/clipboard.min.js?1755623839 defer></script><script src=/cis308/js/perfect-scrollbar/perfect-scrollbar.min.js?1755623839 defer></script><script src=/cis308/js/theme.min.js?1755623839 defer></script></div><script src=/cis308/js/tele-scroll.min.js?1755623839 defer></script></body></html>