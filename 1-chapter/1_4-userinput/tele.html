<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.0.3+tip">




	
	
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

    <meta name="description" content="CIS 308: C Language Lab">
    <meta name="author" content="Julie Thornton">
    <title>User Input :: CIS 308 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis308/1-chapter/1_4-userinput/" rel="canonical" type="text/html" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/1-chapter/1_4-userinput/index.xml" rel="alternate" type="application/rss+xml" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/_print/1-chapter/1_4-userinput/" rel="alternate" type="text/html" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/1-chapter/1_4-userinput/embed.html" rel="alternate" type="text/html" title="CIS 308 Textbook">
    
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/fontawesome-all.min.css?1659560065" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/featherlight.min.css?1659560065" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/auto-complete.css?1659560065" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <noscript>
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/fontawesome-all.min.css?1659560065" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/featherlight.min.css?1659560065" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/auto-complete.css?1659560065" rel="stylesheet">
    </noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/perfect-scrollbar.min.css?1659560065" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/nucleus.css?1659560065" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/fonts.css?1659560065" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/theme.css?1659560065" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/theme-light-theme.css?1659560065" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/ie.css?1659560065" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/variant.css?1659560065" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/print.css?1659560065" rel="stylesheet" media="print">
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/variant.js?1659560065"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="https://ksu-cs-textbooks.github.io/cis308/index.json";
      var root_url="https://ksu-cs-textbooks.github.io/cis308/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis308/';
      variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/custom.css?1659560065" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/jquery.min.js?1659560065" defer></script>

  </head>
  <body class="mobile-support disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis308/1-chapter/1_4-userinput/">
    
    <div id="tele" class="tele mirror">
    
    <div id="body" class="default-animation">
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
    
    
<h1>User Input</h1>
    
    
<p>User input in C is, in short, a pain. There are three major input functions:
<code>getchar()</code>, <code>scanf(...)</code>, and <code>scanf_s(...)</code>. To use any of these functions, you must include the <code>stdio.h</code> library.</p>
<h2 id="getchar"><code>getchar()</code></h2>
<p>The <code>getchar()</code> function takes no arguments and returns the very next character in the standard input stream. If there are no more characters in the input stream, it returns the constant <code>EOF</code>.</p>
<p>Here&rsquo;s an example that reads a student&rsquo;s letter grade and then prints it back to the console.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> grade;
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Enter your grade: &#34;</span>);
</span></span><span style="display:flex;"><span>grade <span style="color:#f92672">=</span> getchar();
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Your grade is %c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, grade);
</span></span></code></pre></div><h2 id="scanf"><code>scanf(...)</code></h2>
<p>The <code>scanf(...)</code> function allows us to read formatted input, like ints and
doubles.</p>
<p>The first argument to <code>scanf</code> is the format string, which specifies the kind of data you expect to read. To specify the data types you expect, use the same control string characters you used for printf &ndash; %d, %f, %lf, %c, and %s. If you want to read an int, the first argument to scanf should be &ldquo;%d&rdquo;. If you want to read two ints, put &ldquo;%d %d&rdquo;.</p>
<p>The next arguments to <code>scanf</code> are the corresponding variables that you want to store the input in. We won&rsquo;t go into details now, but <code>scanf</code> needs the memory address of these variables so it can modify their value. To get the address of a variable, put a &amp; in front of the variable name.</p>
<p>Here&rsquo;s a simple example that prompts the user for an integer, and then reads in the value:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Enter a number: &#34;</span>);
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>num); 
</span></span><span style="display:flex;"><span><span style="color:#75715e">//%d: we&#39;re reading in an integer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//&amp;num: we&#39;re storing that integer in the num variable
</span></span></span></code></pre></div><p>Here&rsquo;s an example that reads in an integer and a double:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> num1;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> num2;
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Enter an int and a double: &#34;</span>);
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d %lf&#34;</span>, <span style="color:#f92672">&amp;</span>num1, <span style="color:#f92672">&amp;</span>num2);
</span></span></code></pre></div><p>The first number typed will get stored in <code>num1</code>, and the second number will get stored in <code>num2</code>. Our format string specified that these numbers should be separated by a space, but they can be separated by any amount of whitespace (multiple spaces, tabs, or newlines).</p>
<p>Suppose that the user is entering a fraction, like 9/5. Here&rsquo;s how we could read in that information:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> numerator, denominator;
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Enter a fraction (like 9/5): &#34;</span>);
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d/%d&#34;</span>, <span style="color:#f92672">&amp;</span>numerator, <span style="color:#f92672">&amp;</span>denominator);
</span></span></code></pre></div><p>By putting the &ldquo;/&rdquo; in the format string, we specify that we expect the input to have a / there, but we don&rsquo;t wish to store it in a variable.</p>
<p><code>scanf</code> returns the number of variables that were correctly read in. If an error occurred during input, it returns the constant <code>EOF</code>.</p>
<p>Here is an (incomplete) list of subtleties when using <code>scanf</code>:</p>
<ul>
<li>In most cases, <code>scanf</code> skips whitespace. However, if you type a space (or tab or newline) where <code>scanf</code> expects a character,
it will read the whitespace into your <code>char</code> variable.</li>
<li>If you use <code>scanf</code> to read a single character, then the user will type an input character and then hit return. <code>scanf</code> will read the input character, but
the newline will remain in the input buffer. This can cause problems if you
call <code>scanf</code> a second time – the newline character will then be read, and not
any new input. To fix this problem, add a call to <code>getchar()</code> after reading
a char to read the extra newline character.</li>
<li>If <code>scanf</code> reads input that it does not expect (for example, if it sees a
character but is supposed to be reading an int), it will not discard the bad
input. The bad input will still be in the input buffer if you
call <code>scanf</code> again. To fix this, call <code>getchar()</code> until you reach <code>EOF</code>. This
will clear the input buffer.</li>
</ul>
<h2 id="scanf_s"><code>scanf_s(...)</code></h2>
<p>The <code>scanf_s(...)</code> is a Microsoft function that is supposed to be safer.</p>
<p>From MSDN Help:</p>
<p>&ldquo;Unlike scanf and wscanf, scanf_s and wscanf_s require the buffer size to be
specified for all input parameters of type c, C, s, S, or string control sets that are enclosed in []. The buffer size in characters is passed as an additional parameter immediately following the pointer to the buffer or variable. For example, if you are reading a string, the buffer size for that string is passed as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> s[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>scanf_s(<span style="color:#e6db74">&#34;%9s&#34;</span>, s, (<span style="color:#66d9ef">unsigned</span>)_countof(s)); 
</span></span><span style="display:flex;"><span><span style="color:#75715e">// buffer size is 10, width specification is 9
</span></span></span></code></pre></div><p>The buffer size includes the terminating <code>null</code>. You can use a width specification field to ensure that the token that&rsquo;s read in will fit into the buffer. If no width specification field is used, and the token read in is too big to fit in the buffer, nothing is written to that buffer.&rdquo;</p>
<p>For more in depth discussion of Microsoft C programming language, please check the &ldquo;C Language Reference&rdquo; in the MSDN Help webpage</p>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    
    
    </div>
    
  </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/clipboard.min.js?1659560065" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/perfect-scrollbar.min.js?1659560065" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/featherlight.min.js?1659560065" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/theme.js?1659560065" defer></script>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/tele-scroll.js?1659560065 defer"></script>
    
  </body>
</html>
