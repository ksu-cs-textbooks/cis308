<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.0.3+tip">




	
	
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

    <meta name="description" content="CIS 308: C Language Lab">
    <meta name="author" content="Julie Thornton">
    <title>Pointers to Pointers in Linked Lists :: CIS 308 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis308/4-chapter/4_7-ptrstoptrs_linkedlists/" rel="canonical" type="text/html" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/4-chapter/4_7-ptrstoptrs_linkedlists/index.xml" rel="alternate" type="application/rss+xml" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/_print/4-chapter/4_7-ptrstoptrs_linkedlists/" rel="alternate" type="text/html" title="CIS 308 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis308/4-chapter/4_7-ptrstoptrs_linkedlists/tele.html" rel="alternate" type="text/html" title="CIS 308 Textbook">
    
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/fontawesome-all.min.css?1663169581" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/featherlight.min.css?1663169581" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/auto-complete.css?1663169581" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <noscript>
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/fontawesome-all.min.css?1663169581" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/featherlight.min.css?1663169581" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis308/css/auto-complete.css?1663169581" rel="stylesheet">
    </noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/perfect-scrollbar.min.css?1663169581" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/nucleus.css?1663169581" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/fonts.css?1663169581" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/theme.css?1663169581" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/theme-light-theme.css?1663169581" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/ie.css?1663169581" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/variant.css?1663169581" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/print.css?1663169581" rel="stylesheet" media="print">
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/variant.js?1663169581"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="https://ksu-cs-textbooks.github.io/cis308/index.json";
      var root_url="https://ksu-cs-textbooks.github.io/cis308/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis308/';
      variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis308/css/custom.css?1663169581" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/jquery.min.js?1663169581" defer></script>

  </head>
  <body class="mobile-support disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis308/4-chapter/4_7-ptrstoptrs_linkedlists/embed.html">
    
    <div class="embed">
    
    <div id="body" class="default-animation">
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
    
    
<p>Let&rsquo;s look at how pointers to pointers can be used to eliminate a nuisance we&rsquo;ve had when trying to
insert and delete items in linked lists. For simplicity, we&rsquo;ll consider lists of integers, built using this
structure:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span> };
</span></span></code></pre></div><p>Suppose we&rsquo;re trying to write some code to delete a given integer from a list. The straightforward
solution looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//delete node containing i from list pointed to by lp
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>lp, <span style="color:#f92672">*</span>prevlp;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(lp <span style="color:#f92672">=</span> list; lp <span style="color:#f92672">!=</span> NULL; lp <span style="color:#f92672">=</span> lp<span style="color:#f92672">-&gt;</span>next) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(lp<span style="color:#f92672">-&gt;</span>item <span style="color:#f92672">==</span> i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(lp <span style="color:#f92672">==</span> list)
</span></span><span style="display:flex;"><span>            list <span style="color:#f92672">=</span> lp<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            prevlp<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> lp<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    prevlp <span style="color:#f92672">=</span> lp;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This code works, but it has two flaws. One is that it must use an extra variable to keep track of the
node behind the one it&rsquo;s looking at, and the other is that it must use an extra test to special-case the
situation in which the node being deleted is at the head of the list. Both problems arise because the
deletion of a node from the list involves modifying the previous pointer to point to the next node (that
is, the node before the deleted node to point to the one following). But, depending on whether the node
being deleted is the first node in the list or not, the pointer that needs modifying is either the pointer
that points to the head of the list, or the next pointer in the previous node.</p>
<p>To illustrate this, suppose that we have the list (1, 2, 3) and we&rsquo;re trying to delete the element 1. After
we&rsquo;ve found the element 1, <code>lp</code> points to its node, which just happens to be the same node that the
main list pointer points to, as illustrated in (a) below:</p>
<p><img src="https://ksu-cs-textbooks.github.io/cis308/images/linkedListA.png" alt="linkedlistA"></p>
<p>To remove element 1 from the list, then, we must adjust the main list pointer so that it points to 2&rsquo;s
node, the new head of the list (as shown in (b) below):</p>
<p><img src="https://ksu-cs-textbooks.github.io/cis308/images/linkedListB.png" alt="linkedlistB"></p>
<p>If we were trying to delete node 2, on the other hand (as illustrated in (c) below):</p>
<p><img src="https://ksu-cs-textbooks.github.io/cis308/images/linkedListC.png" alt="linkedlistC"></p>
<p>we&rsquo;d have to adjust node 1&rsquo;s next pointer to point to 3.</p>
<p>The <code>prevlp</code> pointer keeps track of the previous node we were looking at, since (at other than the first node in the
list) that&rsquo;s the node whose next pointer will need adjusting. (Notice that if we were to delete node 3, we
would copy its next pointer over to 2, but since 3&rsquo;s next pointer is the null pointer, copying it to node 2
would make node 2 the end of the list, as desired.)</p>
<p>We will write another version of the list-deletion code as a lab activity, which will be (in some ways, at least)
much cleaner, by using a pointer to a pointer to a <code>struct node</code>.</p>
<p>Hint: This pointer will point at the pointer which points at the node we&rsquo;re looking at; it will either
point at the head pointer or at the next pointer of the node we looked at last time. Since this pointer
points at the pointer that points at the node we&rsquo;re looking at (got that?), it points at the pointer which
we need to modify if the node we&rsquo;re looking at is the node we&rsquo;re deleting.</p>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    
    
    </div>
    
  </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/clipboard.min.js?1663169581" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/perfect-scrollbar.min.js?1663169581" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/featherlight.min.js?1663169581" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/theme.js?1663169581" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cis308/js/embed-iframe.js?1663169581 defer"></script>
    
    
    
  </body>
</html>
